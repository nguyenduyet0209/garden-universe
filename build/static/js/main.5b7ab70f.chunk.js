(this["webpackJsonpgarden-universe"]=this["webpackJsonpgarden-universe"]||[]).push([[0],{105:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var a=n(5),s=n(0),r=n(9),i=Object(s.createContext)();function c(e){var t=e.children,n=Object(s.useState)(!1),c=Object(a.a)(n,2),o=c[0],u=c[1],d=Object(s.useState)(!1),l=Object(a.a)(d,2),p=l[0],b=l[1];return Object(r.jsx)(i.Provider,{value:{isDepositVisible:o,setIsDepositVisible:u,isWithdrawVisible:p,setIsWithdrawVisible:b},children:t})}},121:function(e,t,n){"use strict";function a(e){var t=e.accessToken,n=e.ethAddress,a=e.nonce,s=e.id;sessionStorage.setItem("ACCESS_TOKEN",t),sessionStorage.setItem("ETH_ADDRESS",n),sessionStorage.setItem("NONCE",a),sessionStorage.setItem("USER_ID",s)}function s(){return sessionStorage.getItem("ACCESS_TOKEN")}function r(){return sessionStorage.getItem("ETH_ADDRESS")}function i(){return sessionStorage.getItem("NONCE")}function c(){return sessionStorage.getItem("USER_ID")}function o(){sessionStorage.clear()}n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return o}))},128:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r}));var a=n(40),s=function(){return Object(a.d)()},r=a.e},205:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i}));var a="https://api.gardenuniverse.io/",s=[{id:1,name:"story"},{id:2,name:"gameplay"},{id:3,name:"nftitems"},{id:4,name:"roadmap"},{id:5,name:"team"},{id:6,name:"advisor"},{id:7,name:"partners"},{id:8,name:"document",subMenu:[{id:1,name:"whitepaper"},{id:2,name:"pitchdeck"}]}],r=[{id:1,name:"Item name"},{id:2,name:"Item name"}],i=[{id:1,fullname:"fullname",position:"position"},{id:2,fullname:"fullname",position:"position"},{id:3,fullname:"fullname",position:"position"},{id:4,fullname:"fullname",position:"position"},{id:5,fullname:"fullname",position:"position"},{id:6,fullname:"fullname",position:"position"},{id:7,fullname:"fullname",position:"position"},{id:8,fullname:"fullname",position:"position"}]},208:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}));var a=n(12),s=n(121),r=Object(a.d)({name:"auth",initialState:{accessToken:Object(s.a)()||null,ethAddress:Object(s.b)()||null,nonce:Object(s.c)()||null,userId:Object(s.d)()||null,isConnecting:!1},reducers:{setAuth:function(e,t){var n=t.payload,a=n.accessToken,s=n.ethAddress,r=n.nonce,i=n.userId;e.accessToken=a,e.ethAddress=s,e.nonce=r,e.userId=i},setIsConnecting:function(e){e.isConnecting=!0},resetAuth:function(e){e.accessToken=null,e.ethAddress=null,e.nonce=null},resetIsConnecting:function(e){e.isConnecting=!1}}}),i=r.actions,c=i.setAuth,o=i.setIsConnecting,u=i.resetAuth,d=i.resetIsConnecting;t.a=r.reducer},209:function(e,t,n){},210:function(e,t,n){"use strict";function a(){var e;return window.ethereum?e=window.ethereum:window.web3?e=window.web3.currentProvider:window.alert("No Ethereum browser detected! Check out MetaMask"),e}n.d(t,"a",(function(){return a}))},313:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},337:function(e,t,n){},355:function(e,t){},357:function(e,t){},362:function(e,t){},363:function(e,t){},390:function(e,t){},392:function(e,t){},405:function(e,t){},407:function(e,t){},422:function(e,t){},440:function(e,t){},442:function(e,t){},460:function(e,t){},461:function(e,t){},531:function(e,t){},533:function(e,t){},539:function(e,t){},551:function(e,t){},554:function(e,t){},559:function(e,t){},715:function(e,t,n){},716:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(34),i=n.n(r),c=n(21),o=(n(337),n(9));function u(){return Object(o.jsx)("div",{className:"loading-component",children:Object(o.jsxs)("div",{className:"lds-default",children:[Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{})]})})}function d(){return Object(o.jsx)("div",{children:"NoMatch"})}var l=[{id:"HomePage",path:"/",component:Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,780))})),isProtected:!1},{id:"ProfilePage",path:"/profile",component:Object(a.lazy)((function(){return n.e(5).then(n.bind(null,781))})),isProtected:!0}],p=n(105),b=n(128);function f(e){var t=e.children,n=Object(c.f)();return Object(b.b)((function(e){return e.auth})).accessToken?Object(o.jsx)(o.Fragment,{children:t}):Object(o.jsx)(c.a,{to:"/",state:{from:n},replace:!0})}var m=n(5),j=n(722),h=n(723),O=n(721),v=n(724),y=(n(209),n(725)),x=n(210),w=n(48),g=n(23),S=n.n(g),k=n(211),I=n.n(k),N=n(313);function C(){return C=Object(w.a)(S.a.mark((function e(t){var n,a,s,r,i,c,o,u,d,l,p,b,f;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.provider,a=t.ethAddress,s=t.price,r=t.BUSDAddress,i=t.idoReceiveAddress,c=t.setIsLoading,o=t.depositWithHash,u=t.setIsSuccess,d=t.setContentSuccess;try{c(!0),l=new I.a(n),p=s.split(".")[0],b=r||"0x1432f7ca55175aff2755794fe79c134e4aa6aca6",f=i||"0x727409884a349815d15D1047FB79c27850fe005F",new l.eth.Contract(N,b).methods.transfer(f,l.utils.toWei(p,"ether")).send({from:a}).on("receipt",function(){var e=Object(w.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({payload:{hash:t.transactionHash}});case 2:(n=e.sent).data&&(c(!1),d(n.data.success),u(!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).on("error",(function(e){console.log(e),c(!1)}))}catch(m){console.log(m),c(!1)}case 2:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}var A=n(79);function T(){var e=Object(b.b)((function(e){return e.auth})).ethAddress,t=Object(a.useContext)(p.a),n=t.isDepositVisible,s=t.setIsDepositVisible,r=Object(a.useState)(!1),i=Object(m.a)(r,2),c=i[0],u=i[1],d=Object(a.useState)(!1),l=Object(m.a)(d,2),f=l[0],w=l[1],g=Object(a.useState)(""),S=Object(m.a)(g,2),k=S[0],I=S[1],N=j.a.useForm(),T=Object(m.a)(N,1)[0];Object(a.useEffect)((function(){T.setFieldsValue({price:100})}),[T]);var E=function(){u(!1),s(!1)},D=Object(A.b)(),M=Object(m.a)(D,1)[0];return Object(o.jsx)(h.a,{title:"Deposit",visible:n,onOk:function(){s(!1)},onCancel:E,maskClosable:!1,footer:null,className:"modal-default",children:Object(o.jsx)(O.a,{spinning:f,children:c?Object(o.jsxs)("div",{className:"content-success",children:[Object(o.jsx)("div",{className:"icon",children:Object(o.jsx)(y.a,{})}),Object(o.jsx)("h3",{className:"content",children:k}),Object(o.jsx)("div",{className:"submit-form",children:Object(o.jsx)("button",{className:"withdraw",onClick:E,children:"Done"})})]}):Object(o.jsxs)(j.a,{form:T,layout:"vertical",onFinish:function(t){!function(e){C.apply(this,arguments)}({provider:Object(x.a)(),ethAddress:e,price:String(null===t||void 0===t?void 0:t.price),BUSDAddress:"",idoReceiveAddress:"",setIsLoading:w,depositWithHash:M,setIsSuccess:u,setContentSuccess:I})},children:[Object(o.jsx)(j.a.Item,{label:"Your token amount",name:"price",children:Object(o.jsx)(v.a,{min:1,allowClear:!0,className:"input-price"})}),Object(o.jsx)("div",{className:"submit-form",children:Object(o.jsx)("button",{className:"deposit",htmlType:"submit",children:"Deposit"})})]})})})}function E(){var e=Object(a.useContext)(p.a),t=e.isWithdrawVisible,n=e.setIsWithdrawVisible,s=Object(a.useState)(!1),r=Object(m.a)(s,2),i=r[0],c=r[1],u=Object(a.useState)(!1),d=Object(m.a)(u,2),l=d[0],b=d[1],f=Object(a.useState)(""),x=Object(m.a)(f,2),g=x[0],k=x[1],I=j.a.useForm(),N=Object(m.a)(I,1)[0];Object(a.useEffect)((function(){N.setFieldsValue({amount:100})}),[N]);var C=function(){n(!1),c(!1)},T=Object(A.e)(),E=Object(m.a)(T,1)[0],D=function(){var e=Object(w.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),n={amount:null===t||void 0===t?void 0:t.amount},e.next=5,E({payload:n});case 5:200===e.sent.status?(b(!1),k("Withdraw success")):b(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),b(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsx)(h.a,{title:"Withdraw",visible:t,onOk:function(){n(!1)},onCancel:C,maskClosable:!1,footer:null,className:"modal-default",children:Object(o.jsx)(O.a,{spinning:l,children:i?Object(o.jsxs)("div",{className:"content-success",children:[Object(o.jsx)("div",{className:"icon",children:Object(o.jsx)(y.a,{})}),Object(o.jsx)("h3",{className:"content",children:g}),Object(o.jsx)("div",{className:"submit-form",children:Object(o.jsx)("button",{className:"withdraw",onClick:C,children:"Done"})})]}):Object(o.jsxs)(j.a,{form:N,layout:"vertical",onFinish:D,children:[Object(o.jsx)(j.a.Item,{label:"Your token amount",name:"amount",children:Object(o.jsx)(v.a,{min:100,allowClear:!0,className:"input-price"})}),Object(o.jsx)("div",{className:"submit-form",children:Object(o.jsx)("button",{className:"withdraw",htmlType:"submit",children:"Withdraw"})})]})})})}var D,M=function(){return Object(o.jsx)(p.b,{children:Object(o.jsx)("div",{className:"wrapper",children:Object(o.jsxs)("main",{children:[Object(o.jsx)(a.Suspense,{fallback:Object(o.jsx)(u,{}),children:Object(o.jsxs)(c.d,{children:[l.map((function(e){return Object(o.jsx)(c.b,{path:e.path,element:e.isProtected?Object(o.jsx)(f,{children:Object(o.jsx)(e.component,{})}):Object(o.jsx)(e.component,{})},e.id)})),Object(o.jsx)(c.b,{path:"*",element:Object(o.jsx)(d,{})})]})}),Object(o.jsx)(T,{}),Object(o.jsx)(E,{})]})})})},_=n(3),W=n(12),P=n(208),H=Object(W.a)({reducer:(D={},Object(_.a)(D,A.a.reducerPath,A.a.reducer),Object(_.a)(D,"auth",P.a),D),middleware:function(e){return e().concat(A.a.middleware)}}),F=n(40);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=n(127);n(714),n(715);i.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(F.a,{store:H,children:Object(o.jsx)(V.a,{children:Object(o.jsx)(M,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},79:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return O}));var a=n(317),s=n(48),r=n(23),i=n.n(r),c=n(47),o=n(328);function u(e){var t=e.type,n=e.message,a=e.description;return o.a[t]({message:n,description:a,duration:3,placement:"topRight"})}var d=n(205),l=Object(c.d)({baseUrl:d.a,prepareHeaders:function(e,t){var n=(0,t.getState)().auth.accessToken;return n&&e.set("Authorization","Bearer ".concat(n)),e}}),p=function(){var e=Object(s.a)(i.a.mark((function e(t,n,a){var s,r,c,o,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t,n,a);case 2:if(!(d=e.sent).error){e.next=18;break}e.t0=d.error.status,e.next=401===e.t0?7:500===e.t0||501===e.t0||502===e.t0||503===e.t0?9:400===e.t0?11:422===e.t0?13:403===e.t0?16:18;break;case 7:return console.log("401 authorization"),e.abrupt("break",18);case 9:return u({type:"error",message:"Error",description:d.error.error||"Internal Server Error"}),e.abrupt("break",18);case 11:return console.log("bad request"),e.abrupt("break",18);case 13:return console.log("result.error",d.error),u({type:"error",message:"Error",description:(null===(s=d.error)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.error)||(null===(c=d.error)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.amount[0])}),e.abrupt("break",18);case 16:return console.log("Authorize"),e.abrupt("break",18);case 18:return e.abrupt("return",d);case 19:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),b=p,f=Object(a.a)({baseQuery:b,tagTypes:["authApi"],endpoints:function(e){return{getProfile:e.query({query:function(e){return{url:e,method:"GET"}}}),getTradeHistory:e.query({query:function(e){return{url:e,method:"GET"}},providesTags:["authApi"]}),depositWithHash:e.mutation({query:function(e){return{url:"/ddapp/account/deposit",method:"POST",body:e.payload}},invalidatesTags:["authApi"]}),withdraw:e.mutation({query:function(e){return{url:"/ddapp/account/withdraw",method:"POST",body:e.payload}}})}}}),m=f.useGetProfileQuery,j=f.useGetTradeHistoryQuery,h=f.useDepositWithHashMutation,O=f.useWithdrawMutation}},[[716,1,2]]]);
//# sourceMappingURL=main.5b7ab70f.chunk.js.map